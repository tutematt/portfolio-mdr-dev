---
interface Props {
    year: string;
    title: string;
    company: string;
    description: string;
    achievements: string[];
}

const { year, title, company, description, achievements } = Astro.props;
---

<div class="flex flex-col items-center">
    <div class="w-4 h-4 bg-blue-600 rounded-full"></div>
    <div class="h-16 w-px bg-blue-600"></div>
    <div class="w-64 p-4 bg-gray-800 rounded-lg shadow-lg">
        <time class="text-sm font-normal text-gray-500 mb-1 block">{year}</time>
        <h3 class="text-lg font-semibold text-white mb-2">{title}</h3>
        <p class="text-md text-blue-300 mb-2">{company}</p>
        <p class="text-sm text-gray-400 mb-4 line-clamp-2">{description}</p>
        <button
            class="w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            data-dialog-target={`experience-${year.replace(/\s/g, "")}`}
        >
            Ver m√°s
        </button>
    </div>
</div>

<dialog
    id={`experience-${year.replace(/\s/g, "")}`}
    class="p-4 rounded-lg bg-gray-900 text-white max-w-lg w-full"
>
    <h3 class="text-2xl font-semibold mb-2">{title}</h3>
    <p class="text-lg text-blue-300 mb-2">{company}</p>
    <time class="text-sm font-normal text-gray-500 mb-4 block">{year}</time>
    <p class="text-gray-400 mb-4">{description}</p>
    <h4 class="text-lg font-semibold mb-2">Logros:</h4>
    <ul class="space-y-2 mb-4">
        {
            achievements.map((achievement) => (
                <li class="flex items-start text-sm text-gray-300">
                    <span class="w-2 h-2 bg-blue-500 rounded-full mr-2 mt-1.5 flex-shrink-0" />
                    <span>{achievement}</span>
                </li>
            ))
        }
    </ul>
    <button
        class="w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
        data-dialog-close
    >
        Cerrar
    </button>
</dialog>
